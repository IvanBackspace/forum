{"version":3,"file":"main.js","sources":["main.js"],"sourcesContent":["Fancybox.bind(\"[data-fancybox]\", {\r\n    // Your custom options\r\n});\r\n\r\n// animation \r\nconst animationItems = document.querySelectorAll('.animation-item');\r\nif (animationItems.length > 0) {\r\n    function onEntry(e) {\r\n        e.forEach(e => {\r\n            e.isIntersecting && e.target.classList.add(\"animation-active\")\r\n        }\r\n        )\r\n    }\r\n    let options = {\r\n        threshold: [.5]\r\n    }, observer = new IntersectionObserver(onEntry, options)\r\n    for (let e of animationItems)\r\n        observer.observe(e);\r\n}\r\n// end animation\r\n\r\n/* hide header */\r\nlet scrollWidthFunc = () => {\r\n    let scrollWidth = window.innerWidth - document.body.clientWidth;\r\n    document.querySelector('html').style.paddingRight = scrollWidth + 'px';\r\n    document.querySelector('header').style.paddingRight = scrollWidth + 'px';\r\n}\r\nconst scrollTop = document.querySelector('.scroll-top');\r\nif (scrollTop)\r\n    scrollTop.addEventListener('click', () => {\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    });\r\n\r\n// ['load', 'resize'].forEach((event) => {\r\n//     window.addEventListener(event, function () {\r\n//         let headerHeight = header.clientHeight;\r\n//         const plashka = header.querySelector('.header__plashka');\r\n//         const headerTop = header.querySelector('.header__top');\r\n//         if (plashka) {\r\n//             var originalHeightPlashka = plashka.offsetHeight;\r\n//             var originalHeightHeaderTop = headerTop.offsetHeight;\r\n//         }\r\n//         window.onscroll = function (e) {\r\n//             if (window.scrollY > headerHeight) {\r\n//                 if (!plashka.classList.contains('hide')) {\r\n//                     plashka.classList.add('hide');\r\n//                     plashka.style.height = '0px';\r\n//                     plashka.style.opacity = '0';\r\n//                     plashka.style.overflow = 'hidden';\r\n\r\n//                     if (window.innerWidth > 1260) {\r\n//                         headerTop.classList.add('hide');\r\n//                         headerTop.style.height = '0px';\r\n//                         headerTop.style.opacity = '0';\r\n//                         headerTop.style.overflow = 'hidden';\r\n//                     }\r\n//                 }\r\n//             }\r\n//             else {\r\n//                 plashka.style.height = originalHeightPlashka + 'px';\r\n//                 plashka.classList.remove('hide');\r\n//                 plashka.style.opacity = '1';\r\n\r\n//                 headerTop.style.height = originalHeightHeaderTop + 'px';\r\n//                 headerTop.classList.remove('hide');\r\n//                 headerTop.style.opacity = '1';\r\n//                 headerTop.style.overflow = 'visible';\r\n//             }\r\n//         };\r\n//     })\r\n// })\r\n/* hide header */\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    /* burger menu */\r\n    const burgerMenu = document.querySelector('.burger__menu');\r\n    if (burgerMenu) {\r\n        const headerMobile = document.querySelector('.header__menu');\r\n        const header = document.querySelector('.header');\r\n        const plashka = document.querySelector('.header__plashka');\r\n        burgerMenu.addEventListener(\"click\", () => {\r\n            if (burgerMenu.classList.contains('burger__menu--active')) {\r\n                document.body.classList.remove('burger-lock');\r\n                // console.log(window.innerWidth - document.body.clientWidth);\r\n            }\r\n            else {\r\n                document.body.classList.add('burger-lock');\r\n            }\r\n            headerMobile.classList.toggle(\"header__menu--active\");\r\n            burgerMenu.classList.toggle(\"burger__menu--active\");\r\n            header.classList.toggle(\"header--active\");\r\n            console.log(\"offsetWidth:\", document.documentElement.offsetWidth);\r\n            console.log(\"clientWidth:\", document.documentElement.clientWidth);\r\n            console.log(\"Ширина скроллбара:\", document.documentElement.offsetWidth - document.documentElement.clientWidth);\r\n            \r\n\r\n            document.querySelector('html').classList.toggle('burger-lock');\r\n        });\r\n    }\r\n\r\n\r\n    if (!widget.classList.contains(\"open\")) {\r\n        scrollWidthFunc();\r\n        widget.classList.add(\"open\");\r\n        document.body.classList.add('widget-lock');\r\n        document.querySelector('html').classList.add('widget-lock');\r\n    }\r\n    else {\r\n        document.querySelector('html').style.paddingRight = 0;\r\n        document.querySelector('header').removeAttribute('style');\r\n        widget.classList.remove(\"open\");\r\n        document.body.classList.remove('widget-lock');\r\n        document.querySelector('html').classList.remove('widget-lock');\r\n    }\r\n});\r\n/* end burger menu */\r\n\r\n\r\n/* close header__discount */\r\nconst discountBlockButton = document.querySelector('.header__discount_close');\r\nconst discountBlock = document.querySelector('.plashka.header__discount');\r\nconst mainContent = document.querySelector('main');\r\nif (discountBlockButton) {\r\n    discountBlockButton.addEventListener('click', function () {\r\n        discountBlock.classList.add('hidden');\r\n        mainContent.classList.add('shifted');\r\n    });\r\n}\r\n/* end close header__discount */\r\n\r\n\r\n/*  open menu  */\r\nconst headerNavList = document.querySelectorAll('.hide-item>button');\r\n\r\nfunction closeHeaderNav(item) {\r\n    document.body.classList.remove('lock');\r\n    document.querySelector('html').classList.remove('burger-lock');\r\n    document.querySelector('html').removeAttribute('style');\r\n    document.querySelector('header').removeAttribute('style');\r\n    item.closest('.hide-item').classList.remove('hide-item--active');\r\n}\r\n\r\nheaderNavList.forEach(item => {\r\n    item.addEventListener('click', (e) => {\r\n        document.querySelector('html').addEventListener('click', function (e) {\r\n            if (!e.target.closest('.header__nav_list')) {\r\n                closeHeaderNav(item)\r\n                return;\r\n            }\r\n        })\r\n\r\n        if (!item.closest('.hide-item').classList.contains('hide-item--active')) {\r\n            headerNavList.forEach(item => item.closest('.hide-item').classList.remove('hide-item--active'));\r\n            item.closest('.hide-item').classList.add('hide-item--active');\r\n            scrollWidthFunc();\r\n            document.body.classList.add('lock');\r\n            document.querySelector('html').classList.add('burger-lock');\r\n            scrollWidthFunc();\r\n            console.log('eeee');\r\n        }\r\n        else {\r\n            closeHeaderNav(item)\r\n        }\r\n    });\r\n});\r\n/*  end menu  */\r\n\r\n\r\n/* open more subsubmenu  */\r\n// function updateHeaderMoreButtons() {\r\n//     const maxHeightSubmenu = 140; \r\n//     requestAnimationFrame(() => {\r\n//         if(document.querySelectorAll('.header__submenu_more-btn')) {\r\n//             document.querySelectorAll('.header__submenu_more-btn').forEach(button => {\r\n//                 const sublist = button.previousElementSibling;\r\n//                 if (sublist.scrollHeight <= maxHeightSubmenu) {\r\n//                     button.style.display = 'none';\r\n//                 } else {\r\n//                     button.style.display = 'block';\r\n//                 }\r\n//             });\r\n//         }\r\n//     });\r\n// }\r\n// document.querySelector('.hide-item_service').addEventListener('click', (button) => {\r\n//     if (button) {\r\n//         updateHeaderMoreButtons();\r\n//     }\r\n// });\r\n// document.querySelectorAll('.header__submenu_more-btn').forEach(button => {\r\n//     if (button) {\r\n//         button.addEventListener('click', function(event) {\r\n//             event.stopPropagation();\r\n//             const sublist = this.previousElementSibling; \r\n//             if (sublist && sublist.classList.contains('header__submenu_tab-content_item')) {\r\n//                 sublist.classList.toggle('open'); \r\n\r\n//                 if (sublist.classList.contains('open')) {\r\n//                     this.textContent = 'Скрыть';\r\n//                 } else {\r\n//                     this.textContent = 'Еще';\r\n//                 }\r\n//             }\r\n//         }); \r\n//     }\r\n// });\r\n/* end open more submenu  */\r\n\r\n\r\n/* header tabs */\r\nconst headerSubmenuBtns = document.querySelectorAll('.header__submenu_tab-btn');\r\nconst headerSubmenuContents = document.querySelectorAll('.header__submenu_tab-content');\r\nfor (let i = 0; i < headerSubmenuBtns.length; i++) {\r\n    headerSubmenuBtns[i].style.order = 2 * i + 1;\r\n}\r\nfor (let i = 0; i < headerSubmenuContents.length; i++) {\r\n    headerSubmenuContents[i].style.order = 2 * i + 2;\r\n}\r\nif (headerSubmenuBtns.length > 0) {\r\n    for (let i = 0; i < headerSubmenuBtns.length; i++) {\r\n        headerSubmenuBtns[i].addEventListener('click', () => {\r\n            if (!headerSubmenuBtns[i].classList.contains('active')) {\r\n                headerSubmenuContents.forEach(elem => {\r\n                    elem.classList.remove('active');\r\n                })\r\n                headerSubmenuBtns.forEach(elem => {\r\n                    elem.classList.remove('active');\r\n                })\r\n                headerSubmenuBtns[i].classList.add('active');\r\n                headerSubmenuContents[i].classList.add('active');\r\n                updateHeaderMoreButtons();\r\n            }\r\n        })\r\n    }\r\n}\r\nif (headerSubmenuBtns.length > 0) {\r\n    headerSubmenuBtns[0].click();\r\n}\r\n/* end header tabs */\r\n\r\n\r\n/* new tabs */\r\nconst tabs = document.querySelectorAll('.tabs');\r\nfor (let i = 0; i < tabs.length; i++) {\r\n    const tabBtns = tabs[i].querySelectorAll('.tab-btn');\r\n    const tabContents = tabs[i].querySelectorAll('.tab-content');\r\n    for (let i = 0; i < tabBtns.length; i++) {\r\n        tabBtns[i].style.order = 2 * i + 1;\r\n    }\r\n    for (let i = 0; i < tabContents.length; i++) {\r\n        tabBtns[i].style.order = 2 * i + 2;\r\n    }\r\n    if (tabBtns.length > 0) {\r\n        for (let i = 0; i < tabBtns.length; i++) {\r\n            tabBtns[i].addEventListener('click', () => {\r\n                if (!tabBtns[i].classList.contains('active')) {\r\n                    tabContents.forEach(elem => {\r\n                        elem.classList.remove('active');\r\n                    })\r\n                    tabBtns.forEach(elem => {\r\n                        elem.classList.remove('active');\r\n                    })\r\n                    tabBtns[i].classList.add('active');\r\n                    tabContents[i].classList.add('active');\r\n                }\r\n                quantityElem();\r\n            })\r\n        }\r\n    }\r\n    if (tabBtns.length > 0) {\r\n        tabBtns[0].click();\r\n    }\r\n}\r\n/* end new tabs */\r\n\r\n\r\n/* discount time */\r\nconst counterStocks = document.querySelector('.stock-date-js');\r\nconst currentCounterStocks = document.querySelector('.stock-future-js');\r\nif (counterStocks && currentCounterStocks) {\r\n    function timeStocks(countDownDate) {\r\n        let now = new Date().getTime();\r\n        let distance = countDownDate - now;\r\n        let days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n        let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n        let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\n        let seconds = Math.floor((distance % (1000 * 60)) / 1000);\r\n        counterStocks.innerHTML = days + \"д: \" + hours + \"ч: \" +\r\n            minutes + \" мин: \" + seconds + \" сек \";\r\n    }\r\n    let date = new Date();\r\n    date.setDate(date.getDate() + 5);\r\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n        \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n    ];\r\n    const monthNamesRus = [\"января\", \"февраля\", \"марта\", \"апреля\", \"мая\", \"июня\",\r\n        \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"\r\n    ];\r\n    let monthNumber = date.getMonth();\r\n    const month = monthNames[monthNumber];\r\n    currentCounterStocks.innerHTML = date.getDate() + ' ' + monthNamesRus[monthNumber];\r\n    const countDownDate = new Date(month + ' ' + date.getDate() + ', ' + date.getFullYear() + ' 00:00:00').getTime();\r\n    timeStocks(countDownDate);\r\n    const x = setInterval(function () {\r\n        timeStocks(countDownDate);\r\n    }, 1000);\r\n\r\n}\r\n/* end discount time */\r\n\r\n\r\n// Popups\r\nfunction popupClose(popupActive) {\r\n    popupActive.classList.remove('open');\r\n    setTimeout(() => {\r\n        if (!popupActive.classList.contains('open')) {\r\n            popupActive.classList.remove('active');\r\n        }\r\n    }, 400);\r\n    document.body.classList.remove('lock');\r\n    document.querySelector('html').style.paddingRight = 0;\r\n    document.querySelector('html').classList.remove('lock');\r\n    document.querySelector('header').removeAttribute('style');\r\n\r\n\r\n}\r\nconst popupOpenBtns = document.querySelectorAll('.popup-btn');\r\nconst popups = document.querySelectorAll('.popup');\r\nconst originalTitlePopup2 = document.querySelector('.original-title').innerHTML;\r\nconst closePopupBtns = document.querySelectorAll('.close-popup-btn');\r\nclosePopupBtns.forEach(function (el) {\r\n    el.addEventListener('click', function (e) {\r\n        popupClose(e.target.closest('.popup'));\r\n    });\r\n});\r\npopupOpenBtns.forEach(function (el) {\r\n    el.addEventListener('click', function (e) {\r\n        e.preventDefault();\r\n        const path = e.currentTarget.dataset.path;\r\n        const currentPopup = document.querySelector(`[data-target=\"${path}\"]`);\r\n        if (currentPopup) {\r\n            popups.forEach(function (popup) {\r\n                popupClose(popup);\r\n                popup.addEventListener('click', function (e) {\r\n                    if (!e.target.closest('.popup__content')) {\r\n                        popupClose(e.target.closest('.popup'));\r\n                    }\r\n                });\r\n            });\r\n            currentPopup.classList.add('active');\r\n            setTimeout(() => {\r\n                currentPopup.classList.add('open');\r\n            }, 10);\r\n            if (currentPopup.getAttribute('data-target') == 'popup-change') {\r\n\r\n                let originaTitle = currentPopup.querySelector('.original-title');\r\n                if (el.classList.contains('change-item__btn')) {\r\n\r\n                    if (el.classList.contains('doctor__btn-js')) {\r\n                        let currentItem = el.closest('.change-item');\r\n                        let currentTitile = currentItem.querySelector('.change-item__title');\r\n                        originaTitle.innerHTML = 'Записаться на приём к врачу: ' + currentTitile.innerHTML\r\n                    }\r\n                    else {\r\n                        if (el.classList.contains('change-item__btn_current')) {\r\n                            originaTitle.textContent = el.textContent;\r\n                        }\r\n                        else {\r\n                            let currentItem = el.closest('.change-item');\r\n                            let currentTitile = currentItem.querySelector('.change-item__title');\r\n                            originaTitle.innerHTML = currentTitile.innerHTML\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    originaTitle.innerHTML = originalTitlePopup2;\r\n                }\r\n            }\r\n\r\n            if (currentPopup.getAttribute('data-target') == 'popup-jobs') {\r\n                let currentItems = el.closest('.jobs__items')\r\n                let originalText = currentPopup.querySelector('.jobs__inner_original');\r\n                if (originalText && currentItems.querySelector('.jobs__inner')) {\r\n                    originalText.innerHTML = currentItems.querySelector('.jobs__inner').innerHTML;\r\n                }\r\n            }\r\n            e.stopPropagation();\r\n            scrollWidthFunc();\r\n            document.querySelector('html').classList.add('lock');\r\n        }\r\n    });\r\n});\r\n// end popups\r\n\r\n\r\n\r\n/* yandex map */\r\nconst mapPlaceholder = document.getElementById('map-placeholder');\r\nif (mapPlaceholder) {\r\n    mapPlaceholder.addEventListener('mouseenter', loadMap, { once: true });\r\n    mapPlaceholder.addEventListener('click', loadMap, { once: true });\r\n}\r\n\r\nfunction loadMap() {\r\n    if (!document.querySelector('[src=\"https://api-maps.yandex.ru/2.1/?lang=ru_RU\"]')) {\r\n        const script = document.createElement('script');\r\n        script.type = 'text/javascript';\r\n        script.src = 'https://api-maps.yandex.ru/2.1/?lang=ru_RU';\r\n        script.onload = initMap;\r\n        document.head.appendChild(script);\r\n    } else {\r\n        initMap();\r\n    }\r\n}\r\n\r\nfunction initMap() {\r\n    const mapPlaceholder = document.getElementById('map-placeholder');\r\n    if (mapPlaceholder) {\r\n        mapPlaceholder.remove();\r\n    }\r\n\r\n    ymaps.ready(function () {\r\n        const myMap = new ymaps.Map('map', {\r\n            center: [47.231129, 39.728721],\r\n            zoom: 13,\r\n            controls: []\r\n        });\r\n\r\n        const myPlacemark = new ymaps.Placemark(\r\n            [47.231129, 39.728721],\r\n            {\r\n                hintContent: 'Ростов-на-Дону, ул. Красноармейская, д. 227',\r\n                balloonContent: 'Ростов-на-Дону, ул. Красноармейская, д. 227'\r\n            },\r\n            {\r\n                iconLayout: 'default#image',\r\n                iconImageHref: 'assets/img/icons/map-pin.png',  //заменить на свою иконку\r\n                iconImageSize: [21, 26],\r\n                iconImageOffset: [-15, -31],\r\n            }\r\n        );\r\n\r\n        myMap.geoObjects.add(myPlacemark);\r\n        myMap.behaviors.disable(['scrollZoom']);\r\n    });\r\n}\r\n/* end yandex map */\r\n\r\nlet filterPlacemark;\r\n/* yandex map-filials */\r\nconst blockMap = document.getElementById('map-filials');\r\nif (blockMap) {\r\n    if (!document.querySelector('[src=\"https://api-maps.yandex.ru/2.1/?lang=ru_RU\"]')) {\r\n        const script = document.createElement('script');\r\n        script.type = 'text/javascript';\r\n        script.src = 'https://api-maps.yandex.ru/2.1/?lang=ru_RU';\r\n        document.head.appendChild(script);\r\n    }\r\n    setTimeout(function () {\r\n        ymaps.ready(init);\r\n        function init() {\r\n            const map = document.querySelector('#map-filials');\r\n            const selectedFilialCard = document.querySelector(`.filter-card`);\r\n            const lat = selectedFilialCard.getAttribute('data-lat');\r\n            const lng = selectedFilialCard.getAttribute('data-lng');\r\n\r\n            if (map) {\r\n                var myMap = new ymaps.Map(\"map-filials\", {\r\n                    center: [lat, lng],\r\n                    zoom: 13,\r\n                });\r\n\r\n                filterPlacemark = new ymaps.Placemark(\r\n                    [lat, lng],\r\n                    {\r\n                        hintContent: 'Ростов-на-Дону, ул. Красноармейская, д. 227',\r\n                        balloonContent: 'Ростов-на-Дону, ул. Красноармейская, д. 227'\r\n                    },\r\n                    {\r\n                        iconLayout: 'default#image',\r\n                        iconImageHref: 'assets/img/icons/map-pin.png',  //заменить на свою иконку\r\n                        iconImageSize: [21, 26],\r\n                        iconImageOffset: [-15, -31],\r\n                    }\r\n                );\r\n\r\n                myMap.geoObjects.add(filterPlacemark);\r\n                myMap.behaviors.disable(['scrollZoom']);\r\n            }\r\n        }\r\n    }, 500)\r\n}\r\n/* end yandex map-filials */\r\n\r\n// Функция для обновления карты\r\nfunction updateMap(lat, lng) {\r\n    if (filterPlacemark) {\r\n        filterPlacemark.geometry.setCoordinates([parseFloat(lat), parseFloat(lng)]);\r\n    } else {\r\n        filterPlacemark = new ymaps.Placemark([parseFloat(lat), parseFloat(lng)], {}, {\r\n            preset: 'islands#icon',\r\n            iconColor: '#0095b6'\r\n        });\r\n        map.geoObjects.add(filterPlacemark);\r\n    }\r\n    //map.setCenter([parseFloat(lat), parseFloat(lng)], 12); // Центрируем карту на новых координатах\r\n}\r\n\r\n// Функция для получения координат филиала по его id\r\nfunction getCoordinatesByFilialId(filialId) {\r\n    const selectedFilialCard = document.querySelector(`.filter-card[data-filials=\"${filialId}\"]`);\r\n    if (selectedFilialCard) {\r\n        const lat = selectedFilialCard.getAttribute('data-lat');\r\n        const lng = selectedFilialCard.getAttribute('data-lng');\r\n        return { lat, lng };\r\n    } else {\r\n        console.error('Филиал с указанным id не найден');\r\n        return null;\r\n    }\r\n}\r\n\r\n// Вызов функции передачи координат\r\nfunction sendCoordinatesToMap(filialId) {\r\n    const coordinates = getCoordinatesByFilialId(filialId);\r\n    if (coordinates) {\r\n        updateMap(coordinates.lat, coordinates.lng)\r\n    }\r\n}\r\nif (document.getElementById('select-filials')) {\r\n    document.getElementById('select-filials').addEventListener('change', function () {\r\n        const selectedFilialId = this.value;\r\n        sendCoordinatesToMap(selectedFilialId);\r\n    });\r\n}\r\n\r\n\r\n// close cookie \r\nconst cookieBtn = document.querySelector('.popup-cookie__btn')\r\nif (cookieBtn) {\r\n    cookieBtn.addEventListener('click', () => {\r\n        document.querySelector('.popup-cookie').style.display = 'none';\r\n    })\r\n}\r\n\r\n\r\n/*  search */\r\nconst inputSearch = document.querySelectorAll('input[type=search]')\r\nif (inputSearch.length > 0) {\r\n    inputSearch.forEach(elem => {\r\n        const wrapper = elem.closest('.search-wrapper')\r\n        if (wrapper) {\r\n            const searchResultBlock = wrapper.querySelector('.popup__search-result')\r\n            const popularCitiesBlock = wrapper.querySelector('.popup__search')\r\n            const noResultsMessage = searchResultBlock.querySelector('.no-results-message')\r\n\r\n            function search() {\r\n                let filter = elem.value.toUpperCase()\r\n                let ul = wrapper.querySelectorAll('.search-list')\r\n                let totalResults = 0\r\n\r\n                ul.forEach(item => {\r\n                    let li = item.getElementsByTagName('li')\r\n                    for (let i = 0; i < li.length; i++) {\r\n                        let a = li[i].querySelector('.search-name')\r\n                        if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {\r\n                            li[i].classList.remove('none')\r\n                            totalResults++\r\n                        } else {\r\n                            li[i].classList.add('none')\r\n                        }\r\n                    }\r\n                })\r\n                noResultsMessage.classList.toggle('none', totalResults > 0);\r\n\r\n                if (elem.value.trim() === '') {\r\n                    searchResultBlock.classList.add('none')\r\n                    popularCitiesBlock.classList.remove('none')\r\n                } else {\r\n                    searchResultBlock.classList.remove('none')\r\n                    popularCitiesBlock.classList.add('none')\r\n                }\r\n            }\r\n            elem.addEventListener('input', search)\r\n\r\n            document.addEventListener('click', (event) => {\r\n                if (!wrapper.contains(event.target)) {\r\n                    searchResultBlock.classList.add('none')\r\n                }\r\n            })\r\n        }\r\n    })\r\n}\r\n/*  end search  */\r\n\r\n\r\n/*  open faq  */\r\ndocument.querySelectorAll('.faq__button').forEach(button => {\r\n    button.addEventListener('click', () => {\r\n        button.classList.toggle('active');\r\n    });\r\n});\r\n\r\nconst faqTabBtns = document.querySelectorAll('.tab__btns-acc')\r\nfaqTabBtns.forEach(faqTabBtns => {\r\n    if (faqTabBtns) {\r\n        faqTabBtns.querySelectorAll('.tab__btn-acc').forEach(button => {\r\n            if (button) {\r\n                button.addEventListener('click', () => {\r\n                    faqTabBtns.classList.toggle('active');\r\n                });\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n\r\n/*  accordion  */\r\nconst acc = document.getElementsByClassName('accordion')\r\nfor (let i = 0; i < acc.length; i++) {\r\n    if (acc[i]) {\r\n        acc[i].addEventListener('click', function () {\r\n            const accContent = this.querySelector('.accordion__content') || this.parentElement.querySelector('.accordion__content')\r\n            if (accContent.classList.contains('accordion__content--active')) {\r\n                accContent.classList.remove('accordion__content--active');\r\n                this.classList.remove('accordion--active');\r\n                accContent.style.maxHeight = '0';\r\n            } else {\r\n                accContent.classList.add('accordion__content--active');\r\n                this.classList.add('accordion--active');\r\n\r\n                const contentHeight = accContent.scrollHeight;\r\n                accContent.style.maxHeight = `${contentHeight}px`;\r\n            }\r\n        })\r\n    }\r\n}\r\n/*  end accordion   */\r\n\r\n\r\n/*  tab  */\r\nconst showTab = elTabBtn => {\r\n    const elTab = elTabBtn.closest('.tab');\r\n    if (elTabBtn.classList.contains('tab__btn--active')) {\r\n        return;\r\n    }\r\n    const targetId = elTabBtn.dataset.id;\r\n    const elTabPanes = elTab.querySelectorAll(`.tabcontent[data-id=\"${targetId}\"]`);\r\n\r\n    const elTabBtnActive = elTab.querySelector('.tab__btn--active');\r\n    if (elTabBtnActive) {\r\n        elTabBtnActive.classList.remove('tab__btn--active');\r\n    }\r\n\r\n    const elTabPaneShow = elTab.querySelectorAll('.tabcontent--active');\r\n    elTabPaneShow.forEach(pane => pane.classList.remove('tabcontent--active'));\r\n\r\n    elTabBtn.classList.add('tab__btn--active');\r\n    elTabPanes.forEach(pane => pane.classList.add('tabcontent--active'));\r\n};\r\n\r\nconst tabButtons = document.querySelectorAll('.tab__btn')\r\ntabButtons.forEach(btn => {\r\n    if (btn) {\r\n        btn.addEventListener('click', function (e) {\r\n            showTab(this);\r\n            quantityElem();\r\n        });\r\n    }\r\n});\r\n/*  end tab */\r\n\r\n\r\n/*  filter element by checkbox */\r\ndocument.querySelectorAll('.sort__item input[type=\"checkbox\"]').forEach(function (checkbox) {\r\n    checkbox.addEventListener('change', function () {\r\n        filterItems('.sort__card', '.sort__block', '.sort__quantity span');\r\n    });\r\n});\r\nfilterItems('.sort__card', '.sort_block', '.sort__quantity span');\r\n\r\nfunction filterItems(itemSelector, filterGroupSelector, quantitySelector) {\r\n    const filterGroups = Array.from(document.querySelectorAll(filterGroupSelector)).map(group => {\r\n        return Array.from(group.querySelectorAll('input[type=\"checkbox\"]:checked')).map(cb => cb.id);\r\n    });\r\n\r\n    document.querySelectorAll(itemSelector).forEach(function (item) {\r\n        const itemCategories = item.dataset.categories ? item.dataset.categories.split(' ') : [];\r\n        const matchesFilter = filterGroups.every(filters => {\r\n            if (filters.length === 0) return true;\r\n            return filters.some(filter => itemCategories.includes(filter));\r\n        });\r\n        if (matchesFilter) {\r\n            item.style.display = '';\r\n        } else {\r\n            item.style.display = 'none';\r\n        }\r\n    });\r\n\r\n    const visibleItems = document.querySelectorAll(`${itemSelector}:not([style*=\"display: none\"])`).length;\r\n    const quantityElement = document.querySelector(quantitySelector);\r\n    if (quantityElement) {\r\n        quantityElement.textContent = visibleItems;\r\n    }\r\n    checkAndHideBlocksIfEmpty();\r\n}\r\n/*  end filter element by checkbox  */\r\n\r\n\r\n\r\n/* filter element by select */\r\nconst filterBlocks = document.querySelectorAll('[data-filter-block]');\r\n\r\nfilterBlocks.forEach(block => {\r\n    const selects = block.querySelectorAll('.filter-select');\r\n    const cards = block.querySelectorAll('.filter-card');\r\n    const quantity = block.querySelector('.quantity span');\r\n\r\n    function filterCards() {\r\n        let visibleCount = 0;\r\n\r\n        cards.forEach(card => {\r\n            let isVisible = true;\r\n            selects.forEach(select => {\r\n                const filterType = select.getAttribute('data-filter-type');\r\n                const selectedValue = select.value;\r\n                const cardValue = card.getAttribute(`data-${filterType}`);\r\n                if (selectedValue !== 'all' && selectedValue !== cardValue) {\r\n                    isVisible = false;\r\n                }\r\n            });\r\n            card.style.display = isVisible ? '' : 'none';\r\n            if (isVisible) visibleCount++;\r\n        });\r\n        if (quantity) {\r\n            quantity.textContent = visibleCount;\r\n        }\r\n    }\r\n    selects.forEach(select => {\r\n        select.addEventListener('change', filterCards);\r\n    });\r\n    filterCards();\r\n});\r\n/* end filter element by select */\r\n\r\n\r\n\r\n/* filter reviews by rating */\r\nconst highRatingCheckbox = document.getElementById('high-rating');\r\nconst lowRatingCheckbox = document.getElementById('low-rating');\r\nconst reviewCards = document.querySelectorAll('.page-reviews__card');\r\n\r\nfunction filterRatingReviews() {\r\n    reviewCards.forEach(card => {\r\n        const activeStars = card.querySelectorAll('.page-reviews__card_star-active').length;\r\n\r\n        if (highRatingCheckbox.checked && activeStars >= 4) {\r\n            card.style.display = '';\r\n        } else if (lowRatingCheckbox.checked && activeStars <= 3) {\r\n            card.style.display = '';\r\n        } else if (!highRatingCheckbox.checked && !lowRatingCheckbox.checked) {\r\n            card.style.display = '';\r\n        } else {\r\n            card.style.display = 'none';\r\n        }\r\n    });\r\n    quantityElem();\r\n}\r\n\r\nif (highRatingCheckbox) {\r\n    highRatingCheckbox.addEventListener('change', filterRatingReviews);\r\n}\r\nif (lowRatingCheckbox) {\r\n    lowRatingCheckbox.addEventListener('change', filterRatingReviews);\r\n}\r\n\r\n/* end filter reviews by rating */\r\n\r\n\r\n\r\n/* filter reviews by date */\r\nif (document.getElementById('reviews-new')) {\r\n    document.getElementById('reviews-new').addEventListener('change', function () {\r\n        const reviews = document.querySelectorAll('.page-reviews__card');\r\n        const isChecked = this.checked;\r\n\r\n        reviews.forEach(review => {\r\n            const dateText = review.querySelector('.page-reviews__card_publication span').textContent.trim();\r\n            const reviewDate = parseDate(dateText);\r\n            const currentDate = new Date();\r\n\r\n            const timeDifference = currentDate - reviewDate;\r\n            const daysDifference = timeDifference / (1000 * 3600 * 24);\r\n\r\n            if (isChecked && daysDifference > 30) {\r\n                review.style.display = 'none';\r\n            } else {\r\n                review.style.display = 'block';\r\n            }\r\n        });\r\n        quantityElem();\r\n    });\r\n}\r\n\r\n// Функция для преобразования текстовой даты в объект Date\r\nfunction parseDate(dateText) {\r\n    const months = {\r\n        'января': 0, 'февраля': 1, 'марта': 2, 'апреля': 3,\r\n        'мая': 4, 'июня': 5, 'июля': 6, 'августа': 7,\r\n        'сентября': 8, 'октября': 9, 'ноября': 10, 'декабря': 11\r\n    };\r\n\r\n    const [day, monthName, year] = dateText.split(' ');\r\n    const month = months[monthName.toLowerCase()];\r\n    return new Date(year, month, parseInt(day));\r\n}\r\n/* end filter reviews by date */\r\n\r\n\r\n\r\n// quantity-card\r\nfunction quantityElem() {\r\n    const quantityCards = document.querySelectorAll('.quantity-card');\r\n    const quantityElement = document.querySelector('.quantity span');\r\n    if (quantityElement) {\r\n        let visibleCards = 0;\r\n        quantityCards.forEach(card => {\r\n            if (card.offsetParent !== null) {\r\n                visibleCards++;\r\n            }\r\n        });\r\n        quantityElement.textContent = visibleCards;\r\n    }\r\n}\r\nsetTimeout(quantityElem, 100);\r\n\r\n\r\n/* search in page */\r\n// const searchInput = document.getElementById('searchInput')\r\n// if (searchInput) {\r\n//     searchInput.addEventListener('input', function () {\r\n//         const searchValue = this.value.toLowerCase();\r\n//         const rows = document.querySelectorAll('.search-page-item'); \r\n\r\n//         rows.forEach(function (row) {\r\n//             const serviceName = row.querySelector('.search-page-name').textContent.toLowerCase();\r\n\r\n//             if (serviceName.includes(searchValue)) {\r\n//                 row.style.display = '';\r\n//             } else {\r\n//                 row.style.display = 'none';\r\n//             }\r\n//         });\r\n//         quantityElem();\r\n//         checkAndHideBlocksIfEmpty();\r\n//     });\r\n// }\r\n\r\n\r\n/*  btn more  */\r\nconst moreBtns = document.querySelectorAll('.btn-more');\r\nmoreBtns.forEach(moreBtn => {\r\n    if (moreBtn) {\r\n        const moreContent = moreBtn.previousElementSibling;\r\n\r\n        if (moreContent.scrollHeight <= moreContent.clientHeight) {\r\n            moreBtn.style.display = 'none';\r\n        } else {\r\n            const textBtn = moreBtn.innerHTML;\r\n            moreBtn.addEventListener('click', function () {\r\n                const heightMoreContent = moreContent.style.maxHeight;\r\n                this.classList.toggle('active');\r\n\r\n                if (moreContent.style.maxHeight) {\r\n                    moreContent.style.maxHeight = null;\r\n                    this.textContent = textBtn;\r\n                } else {\r\n                    moreContent.style.maxHeight = moreContent.scrollHeight + \"px\";\r\n                    this.textContent = 'Свернуть';\r\n                }\r\n            });\r\n        }\r\n    }\r\n});\r\n/*  end btn more  */\r\n\r\n\r\n/* footer Nav Accordeon */\r\nconst footerNavAccordeon = document.querySelectorAll('.footer__nav_acc');\r\nfooterNavAccordeon.forEach(footerBtn => {\r\n    if (footerBtn) {\r\n        footerBtn.addEventListener('click', function () {\r\n            const footerContent = footerBtn.nextElementSibling;\r\n            footerContent.classList.toggle('active');\r\n            this.classList.toggle('active');\r\n        });\r\n    }\r\n});\r\n\r\n/*   scrollTop  */\r\nconst buttonsUp = document.querySelectorAll('.is-scroll-up')\r\nbuttonsUp.forEach(buttonUp => {\r\n    if (buttonUp) {\r\n        buttonUp.addEventListener('click', function () {\r\n            window.scrollTo({\r\n                top: 0,\r\n                behavior: 'smooth',\r\n            })\r\n        })\r\n    }\r\n});\r\n/*   end scrollTop  */\r\n\r\n\r\n\r\n\r\n/* select for page-reviews */\r\n// Собираем услуги и врачей из карточек\r\nconst servicesSet = new Set();\r\nconst doctorsSet = new Set();\r\n\r\ndocument.querySelectorAll('.filter-review-card').forEach(card => {\r\n    const serviceElement = card.querySelector('.select_service span');\r\n    const doctorElement = card.querySelector('.select_doctor span');\r\n\r\n    if (serviceElement) {\r\n        const service = serviceElement.textContent.trim();\r\n        servicesSet.add(service);\r\n    }\r\n    if (doctorElement) {\r\n        const doctor = doctorElement.textContent.trim();\r\n        doctorsSet.add(doctor);\r\n    }\r\n});\r\n\r\nfunction populateSelect(selectId, options) {\r\n    const selectElement = document.getElementById(selectId);\r\n    if (selectElement) {\r\n        selectElement.innerHTML = '<option value=\"all\" selected>Выбрать</option>';\r\n        options.forEach(optionValue => {\r\n            const option = document.createElement('option');\r\n            option.value = optionValue;\r\n            option.textContent = optionValue;\r\n            selectElement.appendChild(option);\r\n        });\r\n    }\r\n}\r\n\r\nconst servicesSelect = document.getElementById('reviews-service');\r\nconst doctorsSelect = document.getElementById('reviews-doctor');\r\npopulateSelect('reviews-service', Array.from(servicesSet));\r\npopulateSelect('reviews-doctor', Array.from(doctorsSet));\r\n\r\n// Функция фильтрации\r\nfunction filterCards() {\r\n    const selectedService = servicesSelect.value;\r\n    const selectedDoctor = doctorsSelect.value;\r\n\r\n    document.querySelectorAll('.filter-review-card').forEach(card => {\r\n        const serviceElement = card.querySelector('.select_service span');\r\n        const doctorElement = card.querySelector('.select_doctor span');\r\n\r\n        if (serviceElement && doctorElement) {\r\n            const service = serviceElement.textContent.trim();\r\n            const matchesService = selectedService === 'all' || service === selectedService;\r\n\r\n            const doctor = doctorElement.textContent.trim();\r\n            const matchesDoctor = selectedDoctor === 'all' || doctor === selectedDoctor;\r\n\r\n            if (matchesService && matchesDoctor) {\r\n                card.style.display = 'block';\r\n            } else {\r\n                card.style.display = 'none';\r\n            }\r\n            quantityElem();\r\n        }\r\n    });\r\n}\r\n\r\nif (servicesSelect) { servicesSelect.addEventListener('change', filterCards); }\r\nif (doctorsSelect) { doctorsSelect.addEventListener('change', filterCards); }\r\n/* end select for page-reviews */\r\n\r\n\r\n\r\n/* tabs for jobs-3 */\r\nconst job = document.querySelector('.jobs-3-js');\r\nif (job) {\r\n    const jobItems = job.querySelectorAll('.jobs__item_name');\r\n    const tabContainer = job.querySelector('.jobs__tab_btns');\r\n    const jobListItems = job.querySelectorAll('.jobs__item');\r\n\r\n    jobItems.forEach((item, index) => {\r\n        const button = document.createElement('button');\r\n        button.className = 'jobs__tab_btn';\r\n        button.textContent = item.textContent;\r\n        if (index === 0) {\r\n            button.classList.add('tab-active');\r\n        }\r\n\r\n        if (button) {\r\n            button.addEventListener('click', () => {\r\n                document.querySelectorAll('.jobs__tab_btn').forEach(btn => btn.classList.remove('tab-active'));\r\n                button.classList.add('tab-active');\r\n                jobListItems.forEach(li => li.style.display = 'none');\r\n                jobListItems.forEach(li => {\r\n                    if (li.querySelector('.jobs__item_name').textContent === button.textContent) {\r\n                        li.style.display = 'block';\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        tabContainer.appendChild(button);\r\n    });\r\n\r\n    if (jobListItems) {\r\n        jobListItems.forEach(li => li.style.display = 'none');\r\n        if (jobListItems[0]) {\r\n            jobListItems[0].style.display = 'block';\r\n        }\r\n    }\r\n}\r\n/* end tabs for jobs-3 */\r\n\r\n\r\n\r\n\r\n/* calculator-range */\r\nconst calculatorSliders = document.querySelectorAll(\".calculator__slider\");\r\n\r\ncalculatorSliders.forEach(calculatorSlider => {\r\n    const calculatorRange = calculatorSlider.querySelector(\".calculator-range\");\r\n    const calculatorOutput = calculatorSlider.querySelector(\".calculator-output\");\r\n\r\n    function getYearWord(year) {\r\n        if (year % 10 === 1 && year % 100 !== 11) {\r\n            return \"год\";\r\n        } else if ([2, 3, 4].includes(year % 10) && ![12, 13, 14].includes(year % 100)) {\r\n            return \"года\";\r\n        } else {\r\n            return \"лет\";\r\n        }\r\n    }\r\n    function updateOutput() {\r\n        calculatorOutput.innerHTML = `${calculatorRange.value} ${getYearWord(calculatorRange.value)}`;\r\n    }\r\n    updateOutput();\r\n    calculatorRange.oninput = updateOutput;\r\n});\r\n/* end calculator-range */\r\n\r\n\r\n/* scroll to the letter in medicines */\r\nconst medicamentBlocks = document.querySelectorAll(\".medicament__block\");\r\nconst lettersContainer = document.querySelector(\".medicament__letters\");\r\n\r\nmedicamentBlocks.forEach((block) => {\r\n    const letter = block.querySelector(\"p\").textContent.trim();\r\n\r\n    const letterButton = document.createElement(\"button\");\r\n    letterButton.textContent = letter;\r\n    letterButton.classList.add(\"letter-button\");\r\n\r\n    letterButton.addEventListener(\"click\", () => {\r\n        const offset = document.getElementById('header').offsetHeight - document.querySelector('.header__plashka').offsetHeight + 10;\r\n        const blockPosition = block.getBoundingClientRect().top + window.scrollY - offset;\r\n        window.scrollTo({\r\n            top: blockPosition,\r\n            behavior: \"smooth\"\r\n        });\r\n    });\r\n\r\n    lettersContainer.appendChild(letterButton);\r\n});\r\n/* end scroll to the letter in medicines */\r\n\r\n\r\n\r\n/* hide empty block medicines */\r\nfunction checkAndHideBlocksIfEmpty() {\r\n    const medicamentBlocks = document.querySelectorAll(\".medicament__block\");\r\n    if (medicamentBlocks) {\r\n        medicamentBlocks.forEach(block => {\r\n            const ulElement = block.querySelector(\"ul\");\r\n            const visibleItems = Array.from(ulElement.children).some(item => item.style.display !== \"none\");\r\n            if (!visibleItems) {\r\n                block.style.display = \"none\";\r\n            }\r\n            else {\r\n                block.style.display = \"\";\r\n            }\r\n        });\r\n    }\r\n}\r\ncheckAndHideBlocksIfEmpty();\r\n/* end hide empty block medicines */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* navigation */\r\n\r\nconst articleNavigation = document.querySelector(\".navigation\");\r\nif (articleNavigation) {\r\n    const jsScrollBlockList = document.querySelectorAll(\r\n        \".text-block h1, .text-block h2, .text-block h3, .text-block h4, .text-block h5\"\r\n    );\r\n\r\n    if (jsScrollBlockList.length > 0) {\r\n        for (let i = 0; i < jsScrollBlockList.length; i += 1) {\r\n            const jsScrollBlock = jsScrollBlockList[i];\r\n            const titleBlock = jsScrollBlock.textContent;\r\n            const articleNavigationList =\r\n                document.querySelector(\".navigation__list\");\r\n            const articleNavigationItem = document.createElement(\"li\");\r\n            const articleNavigationLink = document.createElement(\"a\");\r\n            if (jsScrollBlock.tagName == \"H1\") {\r\n                articleNavigationItem.classList.add(\"nav-title-h1\");\r\n            }\r\n            articleNavigationItem.classList.add(\"navigation__item\");\r\n            if (jsScrollBlock.tagName == \"H2\") {\r\n                articleNavigationItem.classList.add(\"nav-title-h2\");\r\n            } else if (jsScrollBlock.tagName == \"H3\") {\r\n                articleNavigationItem.classList.add(\"nav-title-h3\");\r\n            } else if (jsScrollBlock.tagName == \"H4\") {\r\n                articleNavigationItem.classList.add(\"nav-title-h4\");\r\n            } else if (jsScrollBlock.tagName == \"H5\") {\r\n                articleNavigationItem.classList.add(\"nav-title-h5\");\r\n            } else if (jsScrollBlock.tagName == \"H6\") {\r\n                articleNavigationItem.classList.add(\"nav-title-h6\");\r\n            }\r\n            articleNavigationLink.classList.add(\"navigation__link\");\r\n            jsScrollBlock.setAttribute(\"id\", `${i}`);\r\n            articleNavigationLink.setAttribute(\"href\", `$${i}`);\r\n            articleNavigationLink.textContent = \" \" + titleBlock;\r\n            articleNavigationItem.append(articleNavigationLink);\r\n            articleNavigationList.append(articleNavigationItem);\r\n        }\r\n        document.querySelectorAll('a[href^=\"$\"').forEach((link) => {\r\n            link.addEventListener(\"click\", function (e) {\r\n                e.preventDefault();\r\n                let href = this.getAttribute(\"href\").substring(1);\r\n                const scrollTarget = document.getElementById(href);\r\n                const topOffset = 280;\r\n                const elementPosition = scrollTarget.getBoundingClientRect().top;\r\n                const offsetPosition = elementPosition - topOffset;\r\n                window.scrollBy({\r\n                    top: offsetPosition,\r\n                    behavior: \"smooth\",\r\n                });\r\n            });\r\n        });\r\n    } else {\r\n        if (articleNavigation.querySelector(\".navigation\")) {\r\n            articleNavigation.querySelector(\".navigation\").remove();\r\n        }\r\n    }\r\n}\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const headers = document.querySelectorAll('.nav-title-h2');\r\n\r\n    headers.forEach((item, index) => {\r\n        if (item.closest('.navigation-4')) {\r\n            return;\r\n        }\r\n\r\n        let nextElement = item.nextElementSibling;\r\n        const isFirstHeader = index === 0;\r\n\r\n        if (isFirstHeader) {\r\n            item.classList.add('active');\r\n        }\r\n\r\n        while (nextElement && !nextElement.classList.contains('nav-title-h2')) {\r\n            nextElement.style.display = isFirstHeader ? 'block' : 'none';\r\n            nextElement = nextElement.nextElementSibling;\r\n        }\r\n\r\n        item.addEventListener('click', () => {\r\n            let nextElement = item.nextElementSibling;\r\n            const isActive = item.classList.toggle('active');\r\n\r\n            while (nextElement && !nextElement.classList.contains('nav-title-h2')) {\r\n                nextElement.style.display = isActive ? 'block' : 'none';\r\n                nextElement = nextElement.nextElementSibling;\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n\r\n/* end navigation */\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    const items = document.querySelectorAll('.page-articles__popular-item');\r\n    let activeItem = items[0]; // Первый div активен по умолчанию\r\n\r\n    // Добавляем класс active на первый элемент\r\n    activeItem.classList.add('active');\r\n\r\n    items.forEach(item => {\r\n        item.addEventListener('mouseenter', function () {\r\n            // Обновляем ширину всех элементов\r\n\r\n            if (item.offsetHeight == 259) {\r\n                items.forEach(otherItem => {\r\n                    otherItem.style.width = '176px';\r\n                    otherItem.classList.remove('active');\r\n                });\r\n\r\n                item.style.width = '242px';\r\n                item.classList.add('active');\r\n                activeItem = item;\r\n            } else {\r\n                items.forEach(otherItem => {\r\n                    otherItem.style.width = '212px';\r\n                    otherItem.classList.remove('active');\r\n                });\r\n\r\n                item.style.width = '433px';\r\n                item.classList.add('active');\r\n                activeItem = item;\r\n            }\r\n\r\n        });\r\n    });\r\n});\r\n// пагинация страниц\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\r\n    function windowWidth() {\r\n        let currentWidth = window.innerWidth;\r\n        window.addEventListener('resize', () => {\r\n            currentWidth = window.innerWidth;\r\n        });\r\n        return currentWidth;\r\n    }\r\n\r\n    const content = document.querySelector('.page-articles__cards');\r\n    const paginationContainer = document.querySelector('.page-articles__grid-pagination') || createPaginationContainer();\r\n    const prevButton = document.querySelector('.page-articles__grid-prev') || createNavButton('prev', '←');\r\n    const nextButton = document.querySelector('.page-articles__grid-next') || createNavButton('next', '→');\r\n    const itemsPerPage = 5;\r\n    let currentPage = 0;\r\n    const items = Array.from(document.querySelectorAll('.page-articles__card'));\r\n    const totalPages = Math.ceil(items.length / itemsPerPage);\r\n\r\n    function createPaginationContainer() {\r\n        const container = document.createElement('div');\r\n        container.classList.add('page-articles__grid-pagination');\r\n        content.parentElement.appendChild(container);\r\n        return container;\r\n    }\r\n\r\n    function createNavButton(className, text) {\r\n        const button = document.createElement('button');\r\n        button.classList.add(className);\r\n        button.textContent = text;\r\n        paginationContainer.parentElement.insertBefore(button, paginationContainer);\r\n        return button;\r\n    }\r\n\r\n    function showPage(page) {\r\n        console.log(page)\r\n        console.log('>=')\r\n        console.log(totalPages)\r\n        if (page < 0 || page >= (totalPages)) return;\r\n\r\n        const startIndex = page * itemsPerPage;\r\n        const endIndex = startIndex + itemsPerPage;\r\n\r\n        let endCount = totalPages - 1;\r\n        items.forEach((item, index) => {\r\n            item.classList.toggle('hidden', index < startIndex || index >= endIndex);\r\n        });\r\n\r\n        if (page < 0 || page >= (totalPages - 1) && windowWidth() > 600) {\r\n            const buttons = document.querySelectorAll('.page-articles__grid-pagination button');\r\n            buttons.forEach(btn => btn.classList.remove('active')); // Удаляем \"active\" у всех кнопок\r\n            if (buttons.length > 0) {\r\n                buttons[buttons.length - 1].classList.add('active'); // Добавляем \"active\" последней кнопке\r\n            }\r\n            currentPage = page;\r\n            return;\r\n        }\r\n\r\n        currentPage = page;\r\n        updatePagination();\r\n    }\r\n\r\n    function createPageButton(pageNumber) {\r\n        const pageButton = document.createElement('button');\r\n        pageButton.textContent = pageNumber;\r\n        pageButton.addEventListener('click', () => showPage(pageNumber - 1));\r\n        if (pageNumber - 1 === currentPage) {\r\n            pageButton.classList.add('active');\r\n        }\r\n        return pageButton;\r\n    }\r\n\r\n    function updatePagination() {\r\n        paginationContainer.innerHTML = '';\r\n\r\n        prevButton.style.display = totalPages > 1 ? 'inline-block' : 'none';\r\n        nextButton.style.display = totalPages > 1 ? 'inline-block' : 'none';\r\n        prevButton.disabled = currentPage === 0;\r\n        nextButton.disabled = currentPage === totalPages - 1;\r\n\r\n        if (windowWidth() > 600) {\r\n            if (totalPages <= 6) {\r\n                for (let i = 1; i <= totalPages; i++) {\r\n                    paginationContainer.appendChild(createPageButton(i));\r\n                }\r\n            } else {\r\n                let pagesToShow = [1, 2, 3];\r\n                if (currentPage >= 5) {\r\n                    pagesToShow.push('...');\r\n                }\r\n                let startRight = Math.max(4, currentPage);\r\n                let rightPages = [startRight, startRight + 1, startRight + 2].filter(p => p <= totalPages);\r\n                pagesToShow.push(...rightPages);\r\n\r\n                pagesToShow.forEach(page => {\r\n                    if (page === '...') {\r\n                        const ellipsis = document.createElement('span');\r\n                        ellipsis.textContent = '...';\r\n                        paginationContainer.appendChild(ellipsis);\r\n                    } else {\r\n                        paginationContainer.appendChild(createPageButton(page));\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            if (totalPages <= 4) {\r\n                for (let i = 1; i <= totalPages; i++) {\r\n                    paginationContainer.appendChild(createPageButton(i));\r\n                }\r\n            } else {\r\n                let pagesToShow = [1, 2];\r\n                if (currentPage >= 4) {\r\n                    pagesToShow.push('...');\r\n                }\r\n                let startRight = Math.max(3, currentPage);\r\n                let rightPages = [startRight, startRight + 1].filter(p => p <= totalPages);\r\n                pagesToShow.push(...rightPages);\r\n\r\n                pagesToShow.forEach(page => {\r\n                    if (page === '...') {\r\n                        const ellipsis = document.createElement('span');\r\n                        ellipsis.textContent = '...';\r\n                        paginationContainer.appendChild(ellipsis);\r\n                    } else {\r\n                        paginationContainer.appendChild(createPageButton(page));\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n   \r\n\r\n    showPage(currentPage);\r\n    prevButton.addEventListener('click', () => showPage(currentPage - 1));\r\n    nextButton.addEventListener('click', () => showPage(currentPage + 1));\r\n});\r\n\r\n\r\n// Поиск\r\ndocument.getElementById('searchInput').addEventListener('input', function () {\r\n    let query = this.value.toLowerCase();\r\n\r\n    let articles = document.querySelectorAll('.page-articles__card');\r\n    let resultsContainer = document.getElementById('searchResults');\r\n    resultsContainer.innerHTML = '';\r\n\r\n    if (query === '') {\r\n        resultsContainer.style.opacity = '0';\r\n        return;\r\n    }\r\n\r\n    let matchesFound = false;\r\n\r\n    if (query.length > 0) {\r\n        matchesFound = true;\r\n        document.addEventListener('click', function (event) {\r\n            if (!document.getElementById('searchInput').contains(event.target)) {\r\n                document.getElementById('searchInput').value = '';\r\n                resultsContainer.style.opacity = '0';\r\n                resultsContainer.textContent = '';\r\n                return;\r\n            }\r\n        });\r\n    }\r\n\r\n    articles.forEach(function (card) {\r\n        let title = card.querySelector('.page-articles__card_title').textContent.toLowerCase();\r\n\r\n        if (!title.includes(query) && matchesFound) {\r\n            resultsContainer.textContent = 'Not Found';\r\n            document.getElementById('searchResults').classList.add('error-search');\r\n        }\r\n\r\n        if (title.includes(query)) {\r\n            matchesFound = true;\r\n\r\n            let cardInfo = card.querySelector(\".page-articles__card_top\");\r\n            let linkCard = document.createElement(\"a\");\r\n            linkCard.href = card.href;\r\n\r\n            if (cardInfo) {\r\n                let clonedCardInfo = cardInfo.cloneNode(true);\r\n                linkCard.appendChild(clonedCardInfo);\r\n            }\r\n\r\n            let wrapDiv = document.getElementById(\"searchResultsWrap\");\r\n            if (!wrapDiv) {\r\n                wrapDiv = document.createElement(\"div\");\r\n                wrapDiv.id = \"searchResultsWrap\";\r\n                document.body.appendChild(wrapDiv);\r\n                document.getElementById('searchResults').classList.remove('error-search');\r\n            }\r\n\r\n            wrapDiv.appendChild(linkCard);\r\n            resultsContainer.appendChild(wrapDiv);\r\n        }\r\n    });\r\n\r\n    if (matchesFound) {\r\n        resultsContainer.style.opacity = '1';        \r\n    } else {\r\n        resultsContainer.textContent = 'Not Found';\r\n    }\r\n});"],"names":["Fancybox","bind","animationItems","document","querySelectorAll","length","onEntry","e","forEach","isIntersecting","target","classList","add","let","options","threshold","observer","IntersectionObserver","observe","scrollWidthFunc","scrollWidth","window","innerWidth","body","clientWidth","querySelector","style","paddingRight","scrollTop","discountBlockButton","addEventListener","scrollTo","top","behavior","burgerMenu","headerMobile","header","contains","remove","toggle","console","log","documentElement","offsetWidth","widget","removeAttribute","discountBlock","mainContent","headerNavList","closeHeaderNav","item","closest","headerSubmenuBtns","headerSubmenuContents","i","order","elem","updateHeaderMoreButtons","click","tabs","tabBtns","tabContents","quantityElem","counterStocks","currentCounterStocks","timeStocks","countDownDate","distance","Date","getTime","days","Math","floor","hours","minutes","seconds","innerHTML","date","monthNames","setDate","getDate","monthNamesRus","monthNumber","getMonth","month","getFullYear","x","setInterval","popupClose","popupActive","setTimeout","popupOpenBtns","popups","originalTitlePopup2","closePopupBtns","mapPlaceholder","el","preventDefault","currentItems","path","currentTarget","dataset","currentPopup","popup","getAttribute","originaTitle","currentTitile","textContent","originalText","stopPropagation","getElementById","loadMap","script","initMap","createElement","type","src","onload","head","appendChild","ymaps","ready","myMap","Map","center","zoom","controls","myPlacemark","Placemark","hintContent","balloonContent","iconLayout","iconImageHref","iconImageSize","iconImageOffset","geoObjects","behaviors","disable","once","filterPlacemark","blockMap","map","selectedFilialCard","lat","lng","updateMap","geometry","setCoordinates","parseFloat","preset","iconColor","getCoordinatesByFilialId","filialId","error","sendCoordinatesToMap","coordinates","this","value","cookieBtn","inputSearch","display","faqTabBtns","wrapper","searchResultBlock","popularCitiesBlock","noResultsMessage","filter","toUpperCase","ul","totalResults","li","getElementsByTagName","indexOf","trim","event","button","acc","getElementsByClassName","contentHeight","accContent","parentElement","maxHeight","scrollHeight","showTab","elTabBtn","elTabPanes","elTabBtnActive","elTab","targetId","id","pane","tabButtons","filterItems","itemSelector","filterGroupSelector","quantitySelector","filterGroups","Array","from","group","cb","itemCategories","categories","split","matchesFilter","every","filters","some","includes","visibleItems","quantityElement","checkAndHideBlocksIfEmpty","btn","checkbox","filterBlocks","highRatingCheckbox","block","selects","cards","quantity","filterCards","visibleCount","card","isVisible","select","filterType","selectedValue","cardValue","lowRatingCheckbox","reviewCards","filterRatingReviews","activeStars","checked","parseDate","dateText","day","monthName","year","января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря","toLowerCase","parseInt","quantityCards","visibleCards","offsetParent","reviews","isChecked","review","reviewDate","daysDifference","moreBtns","footerNavAccordeon","moreBtn","moreContent","previousElementSibling","clientHeight","textBtn","buttonsUp","footerBtn","nextElementSibling","servicesSet","buttonUp","Set","doctorsSet","populateSelect","selectId","selectElement","optionValue","option","serviceElement","doctorElement","service","doctor","servicesSelect","doctorsSelect","selectedService","selectedDoctor","matchesService","matchesDoctor","job","jobItems","tabContainer","jobListItems","index","className","calculatorSliders","medicamentBlocks","calculatorSlider","calculatorRange","calculatorOutput","updateOutput","oninput","lettersContainer","ulElement","children","letter","letterButton","offset","offsetHeight","blockPosition","getBoundingClientRect","scrollY","articleNavigation","jsScrollBlockList","jsScrollBlock","titleBlock","articleNavigationList","articleNavigationItem","articleNavigationLink","tagName","setAttribute","append","link","href","substring","elementPosition","scrollBy","nextElement","isFirstHeader","isActive","items","activeItem","otherItem","width","windowWidth","currentWidth","content","paginationContainer","container","prevButton","createNavButton","nextButton","itemsPerPage","currentPage","totalPages","ceil","text","insertBefore","showPage","page","startIndex","endIndex","buttons","disabled","createPageButton","pagesToShow","startRight","push","max","rightPages","p","ellipsis","pageNumber","pageButton","query","articles","resultsContainer","opacity","matchesFound","title","cardInfo","linkCard","clonedCardInfo","cloneNode","wrapDiv"],"mappings":"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"}